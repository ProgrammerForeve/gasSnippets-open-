–ü–æ–≥–æ–≤–æ—Ä–∏–º –ø—Ä–æ [Logger](https://developers.google.com/apps-script/reference/base/logger?hl=en)
–û–±—ã—á–Ω–æ –µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç, —á—Ç–æ–±—ã –≤—ã–≤–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –∫–∞–∫–∏–µ-—Ç–æ –¥–∞–Ω–Ω—ã–µ. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Å–ø–µ—à–Ω–æ–º –¥–µ–π—Å—Ç–≤–∏–∏, –æ—à–∏–±–∫–µ –∏–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ª–∞–¥–∫–∏.

## –í—ã–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞
–í –ø—Ä–æ—Å—Ç–µ–π—à–µ–º —Å–ª—É—á–∞–µ –¥–µ–ª–∞–µ–º —Ç–∞–∫:
```
function testLoggerLogString(){
  Logger.log("–≠—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –≤—ã–≤–µ–¥–µ—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å");
};
```
–¢—É—Ç –∏ –¥–∞–ª–µ–µ –∫–æ–¥ –º–æ–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–µ–∫—Ç –∏ –ø–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.

## –í—ã–≤–æ–¥ —Å–ª–æ–∂–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω—ã—Ö
–ï—Å–ª–∏ –≤ –∫–æ–Ω—Å–æ–ª—å –Ω—É–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ–º JSON —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—é
```
function testLoggerLogObject(){
  // –°–æ–∑–¥–∞—ë–º –æ–±—ä–µ–∫—Ç –¥–ª—è –≤—ã–≤–æ–¥–∞.
  const myObject = {
    s:     "–°—Ç—Ä–æ–∫–∞ —Ç–µ–∫—Å—Ç–∞",
	count: 42,
	date:  new Date(),
  };
  // –ü—Ä–æ—Å—Ç–æ myObject –≤—ã–≤–æ–¥–∏—Ç—å –Ω–µ–ª—å–∑—è, —Ç.–∫. –æ–Ω –±—É–¥–µ—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω –≤ —Å—Ç—Ä–æ–∫—É '[object Object]'
  Logger.log(JSON.stringify(myObject));
  // –ú–æ–∂–Ω–æ –æ–±–æ–∑–Ω–∞—á–∏—Ç—å, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –≤—ã–≤–æ–¥–∏—Ç—Å—è
  Logger.log(`myObject: ${JSON.stringify(myObject)}`);
  // –ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ. 2 - —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–±–µ–ª–æ–≤ –Ω–∞ –∫–∞–∂–¥–æ–º –Ω–æ–≤–æ–º —É—Ä–æ–≤–Ω–µ –æ—Ç—Å—Ç—É–ø–∞.
  Logger.log(`myObject: ${JSON.stringify(myObject, null, 2)}`);
};
```

## –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–≥–∏
–ö–æ–≥–¥–∞ —Ç–∞–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–Ω–æ–≥–æ, —Å–ª–æ–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å –∫–∞–∫–æ–π –∏–º–µ–Ω–Ω–æ —É—á–∞—Å—Ç–æ–∫ –∫–æ–¥–∞ –ø–∏—à–µ—Ç –≤ –ª–æ–≥–∏. –ß—Ç–æ–±—ã –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ –≤—ã–∑–æ–≤–∞—Ö –ª–æ–≥–∞, –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Å—Ç—Ä–æ–∫—É. –¢–∞–∫–∂–µ –±—É–¥–µ—Ç –Ω–µ–ø–ª–æ—Ö–æ –æ–±–æ–∑–Ω–∞—á–∞—Ç—å –∫–∞–∫–æ–≥–æ —Ä–æ–¥–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –æ—à–∏–±–∫–∞, –∏–ª–∏ –æ—Ç–ª–∞–¥–∫–∞. –°–µ–π—á–∞—Å, –≤ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, —è –¥–µ–ª–∞—é —Ç–∞–∫:
```
function testLoggerLogWithTags(){
  Logger.log(`[INFO][testLoggerLogWithTags] –≠—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, —Ç.–∫. –µ—Å—Ç—å —Ç–µ–≥ [INFO].
  –Ø –∏—Å–ø–æ–ª—å–∑—É—é —Ç–µ–≥–∏ ERROR, WARNING, INFO, DEBUG.
  –í—Ç–æ—Ä–æ–π —Ç–µ–≥ - –∏–º—è —Ñ—É–Ω–∫—Ü–∏–∏. –ï–≥–æ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –≤ arguments.callee.name, –Ω–æ —ç—Ç–æ—Ç –º–µ—Ç–æ–¥ –æ–±—ä—è–≤–ª–µ–Ω —É—Å—Ç–∞—Ä–µ–≤—à–∏–º –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω.
  –†–∞–∑–º–µ—á–∞—è —Ç–∞–∫ —Å–æ–æ–±—â–µ–Ω–∏—è, –º–æ–∂–Ω–æ –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–∏—Å–∫–æ–º –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–µ –∫—É—Å–∫–∏ –ª–æ–≥–æ–≤, –∞ —Ç–∞–∫–∂–µ –¥–µ–ª–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –∏–ª–∏ –ø–æ–¥—Å—á—ë—Ç.`);
};
```

## –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
Logger.log –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏, –≥–¥–µ –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏ –Ω–∞—á–∏–Ω–∞—è —Å–æ –≤—Ç–æ—Ä–æ–≥–æ. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–≥–ª—è–¥–Ω–µ–µ, –≤ –∫–∞–∫–∏—Ö-—Ç–æ —Å–ª—É—á–∞—è—Ö. —Ç–æ, –∫—Å—Ç–∞—Ç–∏, –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –º–µ—Ç–æ–¥—É Utilities.formatString(template, ...args)
```
function testLoggerLogWithParameters(){
  Logger.log(`[INFO][testLoggerLogWithParameters] –≠—Ç–æ —Å—Ç—Ä–æ–∫–∞ —Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏. –ò–º—è: %s. –í–æ–∑—Ä–∞—Å—Ç: %s`, "–í–∞—Å—è –ü—É–ø–∫–∏–Ω", 42);
};
```

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ —Ä–∞–∑–º–µ—Ä—É —Å–æ–æ–±—â–µ–Ω–∏—è
–°–æ–æ–±—â–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∏–º. –ï—Å–ª–∏ –æ–Ω–æ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 8192(8*1024) —Å–∏–º–≤–æ–ª–æ–≤, —Ç–æ —á–∞—Å—Ç—å —Ç–µ–∫—Å—Ç–∞ –æ–±—Ä–µ–∂–µ—Ç—Å—è –∏ –≤—ã–≤–µ–¥–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "Logging output too large.". –ü—Ä–∏ —ç—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±—ã–º (–¥–æ 8192, —Ä–∞–∑—É–º–µ–µ—Ç—Å—è). –ï—Å–ª–∏ –æ—á–µ–Ω—å –Ω—É–∂–µ–Ω –≤–µ—Å—å –≤—ã–≤–æ–¥, –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —á–∞–Ω–∫–∏ –∏ –≤—ã–≤–æ–¥–∏—Ç—å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:
```
const log = function(template, ...args){
  let out = Utilities.formatString(String(template), ...args);
  const BLOCK_SIZE = 8*1024;

  do {
    Logger.log(out.slice(0, BLOCK_SIZE));
    out = out.slice(BLOCK_SIZE);

  } while (out.length);
};

function testLoggerLogBigMessage(){
  let out = "";
  const CHARS = 1024*8*3;

  for (let r = 1; r<=CHARS; r++){
    out = `${out}‚úÖ`;
  };
  
  log(out);
};
```

## –ü–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
Logger.log - —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∏ –µ—ë –º–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –∑–∞–º–µ–Ω–∏–≤ –µ—ë –Ω–∞ —Å–≤–æ—é —Ñ—É–Ω–∫—Ü–∏—é. –ù–æ –ø—Ä–∏ —ç—Ç–æ–º –Ω–∞–¥–æ –±—É–¥–µ—Ç —Å–æ–±–ª—é–¥–∞—Ç—å –ø–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è. –°–ª–µ–¥—É—é—â–∏–π –∫–æ–¥ —Ç–æ–ª—å–∫–æ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏, —Ç.–∫. –∏–º–µ–µ—Ç —Ä—è–¥ –ø—Ä–æ–±–ª–µ–º. –ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö.
```
(function changeLog(){
  const originalLogger = Logger.log;
  
  const log = function(template, ...args){
    let out = Utilities.formatString(String(template), ...args);
    const BLOCK_SIZE = 8*1024;

    do {
      originalLogger(out.slice(0, BLOCK_SIZE));
      out = out.slice(BLOCK_SIZE);

    } while (out.length);
  };

  Logger.log = log;
})();
```

## –î–æ–±–∞–≤–ª—è–µ–º —ç–º–æ–¥–∑–∏
–í –≤—ã–≤–æ–¥–∏–º–æ–π —Å—Ç—Ä–æ–∫–µ –º–æ–≥—É—Ç –±—ã—Ç—å —ç–º–æ–¥–∑–∏, –ø–æ–º–Ω–∏—Ç–µ –ø—Ä–æ —ç—Ç–æ. –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –≤—ã–¥–µ–ª–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ —Ñ–æ–Ω–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏. –ò–ª–∏ —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –¥–ª–∏–Ω—É —Å—Ç—Ä–æ–∫–∏. üìú –∑–∞–Ω–∏–º–∞–µ—Ç 1 —Å–∏–º–≤–æ–ª, –∞ "–¥–æ–∫—É–º–µ–Ω—Ç" - 8.
```
function testLoggerLogEmoji(){
  Logger.log(`[INFO][testLoggerLogEmoji] ‚úÖ –¢–∞–∫ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞–º–Ω–æ–≥–æ –ª—É—á—à–µ –≤–∏–¥–Ω–æ, —á–µ–º –ø—Ä–æ—Å—Ç–æ —Ç–µ–∫—Å—Ç.`);
};
```

## Web-app
–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Logger.log –≤ doGet/doPost —Ñ—É–Ω–∫—Ü–∏—è—Ö, —Ç–æ –º–æ–∂–µ—Ç–µ –æ–±–Ω–∞—Ä—É–∂–∏—Ç—å —á—Ç–æ –≤ –ª–æ–≥–∞—Ö –Ω–∏—á–µ–≥–æ –Ω–µ—Ç. –°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π (—Ö–æ—Ç—è –Ω–µ —Å–∞–º—ã–π –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π) —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∏—Ç—å –ª–æ–≥–∏ - –ø–∏—Å–∞—Ç—å –∏—Ö –≤ —Ç–∞–±–ª–∏—Ü—É. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç–∞–∫:
```
function toSheetLog(message) {
  const LOG_SHEET_NAME = "log";
  const LOG_HEADERS = ["–î–∞—Ç–∞", "–°–æ–æ–±—â–µ–Ω–∏–µ"];
  
  let ss = SpreadsheetApp.getActiveSpreadsheet();
  let logSheet = ss.getSheetByName(LOG_SHEET_NAME);
 
  // –°–æ–∑–¥–∞–µ–º –ª–∏—Å—Ç –¥–ª—è –ª–æ–≥–æ–≤ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ, –µ—Å–ª–∏ –æ–Ω –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
  if (!logSheet) {
	 logSheet = spreadsheet.insertSheet(LOG_SHEET_NAME);
	 logSheet.appendRow(LOG_HEADERS); // B –¥–æ–±–∞–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–∫–∏
  };
 
  // –ï—Å–ª–∏ message –æ–±—ä–µ–∫—Ç –∏–ª–∏ –º–∞—Å—Å–∏–≤ - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ–º —á–µ—Ä–µ–∑ JSON.stringify –≤ —Å—Ç—Ä–æ–∫—É
  if (((typeof message) === "object") || Array.isArray(message)) {
	 message = JSON.stringify(message, null, 2);
  };
 
  logSheet.appendRow([new Date(), message]);
};
```

## Logger.getLog()
–í Logger –µ—Å—Ç—å –º–µ—Ç–æ–¥ .getLog() –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–∞ –∑–∞ —Ç–µ–∫—É—â—É—é —Å–µ—Å—Å–∏—é. –¢–∏–ø–∏—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - –ª–æ–≥–∏—Ä—É–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏, –∞ –≤ –∫–æ–Ω—Ü–µ –ø–æ–ª—É—á–∞–µ–º –≤–µ—Å—å –ª–æ–≥ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –ø–æ—á—Ç—É/–≤ —Ç–≥ –±–æ—Ç–∞/–≤ —Ñ–∞–π–ª –∏–ª–∏ –µ—â–µ –∫—É–¥–∞-–Ω–∏–±—É–¥—å. –í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Google –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–æ–π –ø—Ä–∏–º–µ—Ä.
```
function testLoggerGetLog(){
  Logger.log("message1");
  Logger.log("message2");
  let logData = Logger.getLog();

  Logger.log(`[INFO][testLoggerGetLog] logData: ${logData}`);
};
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –æ—à–∏–±–∫—É, —Ç–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∞–∫–æ–π —à–∞–±–ª–æ–Ω:
```
function testLoggerLogWitError(){
  try{
    // –∫–æ–¥ —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –æ—à–∏–±–∫–æ–π
  }catch(err){
    let { message, stack } = err;
    // –í–º–µ—Å—Ç–æ catch(err) –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –ø–∏—Å–∞—Ç—å catch({ message, stack }) –∏ message –∏ stack –±—É–¥—É—Ç —Å—Ä–∞–∑—É –¥–æ—Å—Ç—É–ø–Ω—ã. message=—Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ (—á—Ç–æ —Å–ª—É—á–∏–ª–æ—Å—å), stack=—Å—Ç–µ–∫ —Ñ—É–Ω–∫—Ü–∏–π (–≥–¥–µ —Å–ª—É—á–∏–ª–æ—Å—å)
    // —Ç—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ª–æ–≥–∏ –≤ —Ç–≥, –∏–ª–∏ –∑–∞–≤–µ—Ä—à–∞–µ–º —Ä–∞–±–æ—Ç—É –∏–ª–∏ –µ—â–µ —á—Ç–æ-—Ç–æ
  };
};
```
